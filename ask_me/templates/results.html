{% extends "layouts/base_generic.html" %}

{% block title %}
<title>Results</title>
{% endblock %}

{% block style %}
{% endblock %}


{% block content %}

<h1 style="margin-bottom: 15px;">{{ question.id }}. {{ question.question_text.capitalize }}</h1>
    {% for answer in question.answer_set.all %}
    <div class="row">
        <div class="form-group col-md-3">
            <span>{{ answer.posted_on.date }} â€” Approve{{ answer.approve|pluralize }}:{{ answer.approve }}</span>
        </div>
        <div class="form-group col-md-9">
            <span>{{ answer.answer|safe }}</span>
        </div>
    </div>
    {% endfor %}

<button type="button" class="btn-primary btn btn-active" onclick='routeVoteAgain(this);' 
    data-route="{% url 'ask_me:detail' question.id %}" style="margin-top: 30px;">Edit</button>
<button type="button" class="btn-default btn" 
    data-route="{% url 'ask_me:delete' question.id %}"
    style="margin-top: 30px;" onclick="confirmDelete(this)">Delete</button>

<script>
    function routeVoteAgain(obj){
        window.location.href = $(obj).data('route');
    }

    function confirmDelete(obj){
        var r = confirm("Do you really want to delete?");
        if (r == true) {
            window.location.href = $(obj).data('route');
        } 
    }
</script>
   
{% endblock %}



